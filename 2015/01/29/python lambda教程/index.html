<!DOCTYPE HTML>
<html>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>python lambda教程 | 阿毛的博客</title>
    <meta name="author" content="Amao Zhao">
    
    <meta name="description" content="有很多Python的 lambda 教程. 最近我偶然发现一个, 真挺有用的. 是 Mike Driscoll 在 Mouse VS Python 博客上的关于 lambda 的讨论 .

When I first started learning Python, one of the most confusing concepts to get my head around was the lambda statement. I’m sure other new programmers get confused by it as well…
当我刚开始学习Python, 最容易困惑的概念之一, 是lambda声明. 我敢肯定, 其他新的程序员也对它很困惑, 以及…

Mike的讨论非常好：清晰, 直接, 有实用的示例. 它帮助我终于领会了lambda, 并导致我写的另一篇lambda教程.
lambda：一个用来构造函数的工具
基本上, Python的lambda是用于构造函数（或更精确地说, 函数对象）的工具. 这意味着, Python有两个构造函数的工具：def和lambda.">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="python lambda教程"/>
    <meta property="og:site_name" content="AmaoZhao"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="AmaoZhao" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>


<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="indigo">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">AmaoZhao</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            分类
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-reading " href="/reading" >
                            <i class="fa fa-book "></i>
                            
                            读书
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            关于
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            搜索
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav indigo darken-1" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="https://avatars0.githubusercontent.com/u/398331?v=3&amp;s=466" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">赵少君</p>
                        <p class="desc">Python/Angular/Machine Learning</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    首页
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    归档
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    分类
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-reading " href="/reading" >
                    <i class="fa fa-book "></i>
                    
                    读书
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    关于
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    搜索
                </a>
            </li>
        
    </ul>

    <ul class="side-nav indigo darken-1" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/总结/">
                    总结 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/编辑器/">
                    编辑器 <span class="right">2 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Angular/">
                    Angular <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/机器学习/">
                    机器学习 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-1" collapse-level="1">
                <a class="no-padding" href="/categories/机器学习/算法/">
                    算法 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Django/">
                    Django <span class="right">4 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Python/">
                    Python <span class="right">7 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Javascript/">
                    Javascript <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/SQLalchemy/">
                    SQLalchemy <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/面试/">
                    面试 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/API/">
                    API <span class="right">1 篇</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">搜索</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    <nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper indigo">
        <span class="breadcrumb">当前位置（分类目录）</span>
        
            
    
    
    <a class="breadcrumb" href="/categories/Python/">Python</a>


        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>python lambda教程</h1>
    


            </div>
            <time class="pink-link-context" datetime="2015-01-29T02:13:01.000Z"><a href="/2015/01/29/python lambda教程/">2015-01-29</a></time>

            <span id="busuanzi_container_page_pv" class="read-times-container">
    <i class="fa fa-eye"></i>
    <span id="busuanzi_value_page_pv"></span>
</span>

            
    <div class="tags-row">
        
            <a href="/tags/Python/" class="chip pink lighten-1">Python</a>
        
    </div>


            <div class="toc pink-link-context hide-on-med-and-down">
    
</div>


            <div class="entry pink-link-context">
                <p>有很多Python的 <a href="http://docs.python.org/tutorial/controlflow.html#lambda-forms" target="_blank" rel="external">lambda</a> 教程. 最近我偶然发现一个, 真挺有用的. 是 Mike Driscoll 在 <a href="http://www.blog.pythonlibrary.org/" target="_blank" rel="external">Mouse VS Python</a> 博客上的关于 <a href="http://www.blog.pythonlibrary.org/2010/07/19/the-python-lambda/" target="_blank" rel="external">lambda</a> 的讨论 .</p>
<blockquote>
<p>When I first started learning Python, one of the most confusing concepts to get my head around was the lambda statement. I’m sure other new programmers get confused by it as well…</p>
<p>当我刚开始学习Python, 最容易困惑的概念之一, 是lambda声明. 我敢肯定, 其他新的程序员也对它很困惑, 以及…</p>
</blockquote>
<p>Mike的讨论非常好：清晰, 直接, 有实用的示例. 它帮助我终于领会了lambda, 并导致我写的另一篇lambda教程.</p>
<p>lambda：一个用来构造函数的工具</p>
<p>基本上, Python的lambda是用于构造函数（或更精确地说, 函数对象）的工具. 这意味着, Python有两个构造函数的工具：def和lambda.<br><a id="more"></a><br>下面是一个例子. 您可以以正常的方式用def构造一个函数, 就像这样：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">square_root</span><span class="params">(x)</span>:</span> <span class="keyword">return</span> math.sqrt(x)</div></pre></td></tr></table></figure>
<p>或者你可以用lambda</p>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line">square_root = <span class="keyword">lambda</span> x: math.sqrt(x)</div></pre></td></tr></table></figure>
<p>下面是lambda的其他的一些有趣的例子：<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line">sum = <span class="keyword">lambda</span> x, y:   x + y   <span class="comment">#  def sum(x,y): return x + y</span></div><div class="line">out = <span class="keyword">lambda</span>   *x:   sys.stdout.write(<span class="string">" "</span>.join(map(str,x)))</div><div class="line"><span class="keyword">lambda</span> event, name=button8.getLabel(): self.onButton(event, name)</div></pre></td></tr></table></figure></p>
<p>lambda的好处在哪里?</p>
<p>已经困扰我有很长一段时间的一个问题是：lambda的好处在哪里?为什么我们需要lambda?</p>
<p>答案是：</p>
<p>我们并不需要lambda, 我们不用它一样可以做所有的事情. 但是… 在一定的情况下, 很是方便 - 它让编写代码更容易一些, 而且编写的代码更整洁.</p>
<p>什么样的情况?</p>
<p>好, 其中一个情况是, 我们需要一个简单的一次性功能：将被只使用一次函数.</p>
<p>通常, 写函数有两个目的：(a)以减少代码重复（b）模块化代码.</p>
<ul>
<li>如果你的应用程序在不同的地方包含重复的代码块, 那么你就可以把代码拷贝到一个函数, 给函数名, 然后 - 使用该函数名 - 在代码中的不同位置调用它.</li>
<li>如果你有一个代码块执行一个明确的操作 - 但真的是冗长、粗糙、破坏程序的可读性, 那么你可以把那么长的粗糙的所有代码变成一个函数.</li>
</ul>
<p>但是, 假设你需要创建一个函数, 将只被使用一次 - 只从应用程序中的一个地方调用. 好吧, 首先, 你不需要给函数的名称. 它可以是“匿名的”. 而且你可以把它定义在你想使用它的地方. 这就是lambda是非常有用的时候.</p>
<p>但是, 但是, 但是…你会说.</p>
<ul>
<li>首先是, 为什么你想要一个只调用一次函数?排除原因（a）.</li>
<li>一个lambda的函数体只能包含单个表达式. 这意味着, lambda表达式必须很短. 排除了原因（b）.</li>
</ul>
<p>创造一个短的匿名函数可能的原因是什么?</p>
<p>那么, 考虑一下代码片段, 使用lambda来定义一个Tkinter的GUI界面按钮的行为.  （这个例子是来自Mike的教程. ）<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line">frame = tk.Frame(parent)</div><div class="line">frame.pack()</div><div class="line"></div><div class="line">btn22 = tk.Button(frame,</div><div class="line">        text=<span class="string">"22"</span>, command=<span class="keyword">lambda</span>: self.printNum(<span class="number">22</span>))</div><div class="line">btn22.pack(side=tk.LEFT)</div><div class="line"></div><div class="line">btn44 = tk.Button(frame,</div><div class="line">        text=<span class="string">"44"</span>, command=<span class="keyword">lambda</span>: self.printNum(<span class="number">44</span>))</div><div class="line">btn44.pack(side=tk.LEFT)</div></pre></td></tr></table></figure></p>
<p>这里要记住的一点是, tk.Button需要一个函数对象作为参数传递给该函数的参数. 该函数对象将是它（按钮）点击按钮时调用的函数. 基本上, 该函数指定了点击该按钮时, GUI会做什么.</p>
<p>因此, 我们必须通过函数参数传递一个函数对象到一个按钮. 并注意 - 因为不同的按钮做不同的事情 - 我们需要为每个按钮对象提供不同的函数对象. 每个函数将只使用一次.</p>
<p>所以, 尽管我们可以这样写<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent)</span>:</span></div><div class="line">    <span class="string">"""Constructor"""</span></div><div class="line">    frame = tk.Frame(parent)</div><div class="line">    frame.pack()</div><div class="line"></div><div class="line">    btn22 = tk.Button(frame,</div><div class="line">        text=<span class="string">"22"</span>, command=self.buttonCmd22)</div><div class="line">    btn22.pack(side=tk.LEFT)</div><div class="line"></div><div class="line">    btn44 = tk.Button(frame,</div><div class="line">        text=<span class="string">"44"</span>, command=self.buttonCmd44)</div><div class="line">    btn44.pack(side=tk.LEFT)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">buttonCmd22</span><span class="params">(self)</span>:</span></div><div class="line">    self.printNum(<span class="number">22</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">buttonCmd44</span><span class="params">(self)</span>:</span></div><div class="line">    self.printNum(<span class="number">44</span>)</div></pre></td></tr></table></figure></p>
<p>这样写更容易（和更清楚）<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, parent)</span>:</span></div><div class="line">    <span class="string">"""Constructor"""</span></div><div class="line">    frame = tk.Frame(parent)</div><div class="line">    frame.pack()</div><div class="line"></div><div class="line">    btn22 = tk.Button(frame,</div><div class="line">        text=<span class="string">"22"</span>, command=<span class="keyword">lambda</span>: self.printNum(<span class="number">22</span>))</div><div class="line">    btn22.pack(side=tk.LEFT)</div><div class="line"></div><div class="line">    btn44 = tk.Button(frame,</div><div class="line">        text=<span class="string">"44"</span>, command=<span class="keyword">lambda</span>: self.printNum(<span class="number">44</span>))</div><div class="line">    btn44.pack(side=tk.LEFT)</div></pre></td></tr></table></figure></p>
<p>当一个GUI程序有这样的代码, 该按钮对象需要“call back”到被提供给作为其命令函数对象.</p>
<p>因此, 我们可以说, lambda的最常见的用途之一是在写“call back”, 以GUI框架, 如Tkinter和wxPython.</p>
<p>这一切似乎很简单. 所以…</p>
<p>为什么拉姆达如此难以理解?</p>
<p>我能想到四个原因:</p>
<p><strong>第一</strong><br>Lambda难以理解, 因为：一个lambda只能用一个表达式：什么是表达式?</p>
<p>很多人想知道这个问题的答案. 如果你在Google上搜索了一下, 你会看到很多的帖子, “在Python中, 一个表达和语句之间的区别是什么?”</p>
<p>一个很好的答案是, 一个表达式返回（或计算结果为）值, 而声明则没有. 不幸的是, 在Python中表达式也可以是一个语句, 这种情况很容易造成糊涂.  - 赋值语句就像 A = B = 0, Python支持链式赋值.  （Python不是C）[2]</p>
<p>很多情况下在当人们问这个问题时, 他们真正想知道的是：什么样的情况下我可以或者我不可以, 放入lambda? 而对于这个问题, 我觉得遵循一些简单的规则就足够了.</p>
<ul>
<li>如果它不返回一个值, 它不是一个表达式, 不能放入一个lambda.</li>
<li>如果你能想象它在赋值语句中放在等号的右边, 那它是一个表达式, 可以放进一个lambda.</li>
</ul>
<p>利用这些规则意味着：</p>
<ol>
<li>赋值语句不能在lambda中使用. 在Python中, 赋值语句不返回任何东西, 甚至没有None（null）.</li>
<li>如数学运算, 字符串操作, 列表解析等都是一个lambda.</li>
<li>函数调用是表达式. 它可以把一个函数调用放去lambda, 并且将参数传递给该函数. 这样包装函数调用（参数和所有）到一个新的匿名函数里面.</li>
<li>在Python3, print成了一个函数, 所以在Python3+, print（…）可以在lambda中使用.</li>
<li>即使函数是返回None, 就像在Python3print函数, 可以在一个lambda中使用.</li>
<li>[条件表达式], 它是在Python2.5中引入, 是表达式（而不是仅仅是一个语法不同的if / else语句）. 它们返回一个值, 并且可以在一个lambda使用.</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">lambda</span>: a <span class="keyword">if</span> some_condition() <span class="keyword">else</span> b</div><div class="line"><span class="keyword">lambda</span> x: ‘big’ <span class="keyword">if</span> x &gt; <span class="number">100</span> <span class="keyword">else</span> ‘small’</div></pre></td></tr></table></figure>
<p><strong>第二</strong><br>Lambda难以理解, 因为：一个lambda只有一个表达式：为什么?为什么只有一个?为什么不能多表达式?为什么不能是语句?</p>
<p>对于一些开发人员来说, 这个问题的意思是为什么Python的lambda语法如此怪异?对于其他人, 尤其是那些有Lisp的背景的, 这个问题是指为什么Python的lambda这么残废?为什么不像Lisp的lambda那么强大?</p>
<p>答案是很复杂, 它涉及Python语法的“pythonicity”. lambda是一个相对较晚加入Python的. 它加入的时候, Python语法已经成为公认的. 在这种情况下, 语法的lambda必须用“Pythonic”的方式硬塞进一个已经建立好的Python语法中. 导致可以在lambda表达式上来完成一些事情有一定的局限性.</p>
<p>坦率地说, 我仍然认为lambda语法看起来有点怪异. 尽管那样, 但是Guido解释了为什么lambda的语法是不会改变的.  Python不会成为Lisp.</p>
<p><strong>第三</strong><br>Lambda难以理解, 因为：在lambda教程中通常会用作为创建匿名函数来引入lambda, 其实最常见的lambda用途是用于创建匿名过程.</p>
<p>我们公认的两种不同的子程序：过程和函数. 过程是用来做事情的, 并没有返回任何东西. 函数是用于计算和返回值. 函数和过程之间的差异内置在一些编程语言. 在Pascal, 例如, 程序和函数是不同的关键字.</p>
<p>在大多数现代语言中, 过程和函数的区别在语言语法不再提供.  例如Python的函数, 可以像过程, 函数, 或两者兼而有之. （不是完全理想的）结果是一个Python函数总是被称为“函数”, 即使它是本质上充当过程.</p>
<p>虽然过程和函数之间的区别已经基本消失的语言结构中, 当思考有关程序如何工作的时候我, 们仍然时常用它. 例如, 当我读一个程序的源代码, 并看到一些函数F, 我揣摩F是做什么的. 我经常可以把它归类到一个过程或函数 - 我会对自己说“F的目的是做这个的”, 或“F的目的是计算和返回等这个和这个的”.</p>
<p>所以现在我想我们可以明白为什么lambda的许多解释是难以理解.</p>
<p><strong>第一</strong><br>Python语言本身模糊了函数和过程的区别.</p>
<p><strong>第二</strong><br>大多数教程介绍把lambda作为创建匿名函数的工具来介绍, 其主要目的是要计算并返回结果. 在大多数教程看到（这个包含）的第一个例子展示了如何编写一个lambda来返回值, x的平方根.<br>但是, 这不是lambda最常用的方式, 不是当他们在Google上搜索“python lambda教程”的时候要找的. 对于lambda最常见的用途是创建匿名的过程, 在GUI回调中使用. 在这些用例中, 我们不关心什么lambda返回什么, 我们关心它做了什么.<br>这就解释了为什么典型的Python程序员难以理解大多数的lambda说明. 因为他尝试学习如何编写一些GUI框架的代码：Tkinter, wxPython. 运行这些lambda, 想理解他们. Google“python lambda教程”. 他发现那些以例子开始的教程是完全不适合他.<br>所以, 如果你是这样的程序员 - 本教程是给你写的. 我希望它能帮助到你. 对不起, 我们在本教程的结尾看到了这点, 而不是开头. 我们希望有一天, 有人会写一个lambda教程, 而不是以这种方式开头</p>
<ul>
<li>lambda是一个用来构造匿名函数的工具</li>
</ul>
<p>而以这样的句子开始：</p>
<ul>
<li>lambda是一个用来构造回调的工具</li>
</ul>
<p>所以你需要有它. 另一个lambda教程.</p>

                
<p class="pink-link-context">
    <a href="/2015/01/29/ECMAScript 6 Features 中文版/" rel="next" title="ECMAScript 6 Features 中文版">
    上一篇：ECMAScript 6 Features 中文版
  </a>
</p>



<p class="pink-link-context">
    <a href="/2015/01/15/一切都是属性(python)/" rel="next" title="一切都是属性(python)">
    下一篇：一切都是属性(python)
  </a>
</p>


            </div>
			
        </div>
    </div>
</article>






</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large pink">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect green" title="回到顶部"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse yellow darken-1"  data-activates="main-menu" title="menu"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer indigo darken-1">
    
    <div class="container">
        <div class="row">
            
            <div class="social-group col m4 s12">
                <h5 class="white-text">社交</h5>
                
                    <a class="social-link" href="http://weibo.com/amaozhao" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/amaozhao" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                <div class="site-visitors-container white-text">
                    <span>
                        <i class="fa fa-user"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
                    </span>
                    <span>&nbsp;|&nbsp;</span>
                    <span>
                        <i class="fa fa-eye"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
                    </span>
                </div>
            </div>
            

            
            <div class="col m8 s12">
                <h5 class="white-text">友情链接</h5>
                
                    <a class="social-link" href="https://github.com/amaozhao" target="_blank">Github地址</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright pink-link-context">
        <div class="container">
            © 2016 example.com, All rights reserved.
            <p class="right" style="margin-top: 0;">本博客由 <a href="https://hexo.io">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism">raytaylorism</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
    (function($) {
        $(document).ready(function() {
            // 隐藏禁用javascript（针对微信内置浏览器）的提示
            $('.noscript').hide();

            // 图片缩放效果
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // 给图片加上点击放大效果（materialbox插件）
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // 优化表格的显示
            $('table').each(function() {
                var $table = $(this);
                // 除去多行代码的情况
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // 首页幻灯片
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // 针对gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // 文章目录
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();

            // 目录随屏幕滚动（防止目录过长越过footer）
            var $toc = $('.toc');
            var scrollTargetTop = 0;
            $(window).scroll(function() {
                var $activeLink = $toc.find('a.active.section');
                if ($(window).scrollTop() < 100) {
                    scrollTargetTop = 0;
                } else {
                    if ($activeLink[0]) {
                        scrollTargetTop = $activeLink.offset().top - $toc.offset().top;
                    }
                }
                $toc.css('top', '-' + scrollTargetTop + 'px');
            });

            // 修正文章目录的left-border颜色
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // 针对移动端做的优化：FAB按钮点击一下收回
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // 回到顶部
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // 重置读书页面的Tab标签页的颜色
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('pink lighten-2');

            
            // 添加new标签
            $('.menu-reading').append('<span class="new badge pink"></span>');
            

            // 搜索功能
            $('.modal-trigger').leanModal({
                // 打开搜索框时自动聚焦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // 初始化搜索与匹配函数
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("TeX-AMS-MML_HTMLorMML");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



</body>
</html>
