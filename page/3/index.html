<!DOCTYPE HTML>
<html>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>第 3 页 | 阿毛的博客</title>
    <meta name="author" content="Amao Zhao">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <meta property="og:site_name" content="AmaoZhao"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="AmaoZhao" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>


<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="indigo">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">AmaoZhao</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            分类
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-reading " href="/reading" >
                            <i class="fa fa-book "></i>
                            
                            读书
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            关于
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            搜索
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav indigo darken-1" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="https://avatars0.githubusercontent.com/u/398331?v=3&amp;s=466" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">赵少君</p>
                        <p class="desc">Python/Angular/Machine Learning</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    首页
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    归档
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    分类
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-reading " href="/reading" >
                    <i class="fa fa-book "></i>
                    
                    读书
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    关于
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    搜索
                </a>
            </li>
        
    </ul>

    <ul class="side-nav indigo darken-1" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/总结/">
                    总结 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/编辑器/">
                    编辑器 <span class="right">2 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Angular/">
                    Angular <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/机器学习/">
                    机器学习 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-1" collapse-level="1">
                <a class="no-padding" href="/categories/机器学习/算法/">
                    算法 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Django/">
                    Django <span class="right">4 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Python/">
                    Python <span class="right">7 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/Javascript/">
                    Javascript <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/SQLalchemy/">
                    SQLalchemy <span class="right">1 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/面试/">
                    面试 <span class="right">3 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/API/">
                    API <span class="right">1 篇</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">搜索</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        



<div id="article-list" class="container main-container">
    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/31/2014年总结/">2014年总结</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-31T11:43:22.000Z"><a href="/2014/12/31/2014年总结/">2014-12-31</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/总结/" class="chip pink lighten-1">总结</a>
        
    </div>



            
        </div>

        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/29/AngularJS 1.4开始开发, 更多版本有待2015年发布/">AngularJS 1.4开始开发, 更多版本有待2015年发布</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-29T02:03:45.000Z"><a href="/2014/12/29/AngularJS 1.4开始开发, 更多版本有待2015年发布/">2014-12-29</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/Angular/" class="chip pink lighten-1">Angular</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <p>AngularJS 1.4的相关工作已经开始。在宣布了2.0版本的计划后，开发团队决定继续在1.x版本中开发新功能，并在2015年持续开发。</p>
<p>由于1.4版还在早期开发阶段，目前没有很详细的新特性列表。Brian Ford在他的一篇 <a href="http://angularjs.blogspot.com/2014/12/planning-angular-14.html">博文</a> 里提到了1.4中几个主要的“主题”：</p>
<ul>
<li>New Router</li>
<li>Internationalization</li>
<li>Forms</li>
<li>$http</li>
<li>$parse</li>
<li>Documentation</li>
</ul>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/29/AngularJS 1.4开始开发, 更多版本有待2015年发布/">阅读全文</a>
        </ div>
        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/26/来自HeroKu的HTTP API 设计指南(中文版)/">来自HeroKu的HTTP API 设计指南(中文版)</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-26T04:57:50.000Z"><a href="/2014/12/26/来自HeroKu的HTTP API 设计指南(中文版)/">2014-12-26</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/API/" class="chip pink lighten-1">API</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>本指南中文翻译者为<a href="http://weibo.com/easy">@Easy</a>, 他是国内首家互联网人才拍卖网站<a href="http://ha.jobdeer.com/">JobDeer.com</a>的创始人。转载请保留本信息。</p>
<p>本指南描述了一系列HTTP+JSON API的设计实践, 来自并展开于<a href="https://devcenter.heroku.com/articles/platform-api-reference">Heroku Platform API</a> 的工作. 本指南指导着Heroku内部API的开发，我们希望也能对Heroku以外的API设计者有所帮助。</p>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p><strong>基础</strong></p>
<ol>
<li>总是使用TLS</li>
<li>在Accepts头中带上版本号</li>
<li>通过Etags支持缓存</li>
<li>用Request-Ids追踪请求</li>
<li>用Ranges来分页</li>
</ol>
<p><strong>请求</strong></p>
<ol>
<li>返回适当的状态码</li>
<li>总是返回完整的资源</li>
<li>在请求body中接收JSON序列</li>
<li>使用一致的路径格式</li>
<li>小写所有路径和属性</li>
<li>支持非ID的参数作为快捷方式</li>
<li>少用路径嵌套</li>
</ol>
<p><strong>响应</strong></p>
<ol>
<li>总是提供资源(UU)ID</li>
<li>提供标准的时间戳</li>
<li>使用ISO8601格式的UTC时间</li>
<li>嵌入外键数据</li>
<li>总是生成结构化的错误信息</li>
<li>显示频率限制的状态</li>
<li>在所有的响应中压缩JSON数据</li>
</ol>
<p><strong>文档及其他</strong></p>
<ol>
<li>提供机器可读的JSON格式</li>
<li>提供人类可读的文档</li>
<li>提供可执行的示例</li>
<li>描述稳定性</li>
</ol>
<p><strong>基础</strong></p>
<p>总是使用TLS</p>
<p>总是使用TLS（就是https）来访问API，没有必要指出什么时候需要用，什么时候不需要用，只管任何时候都用它就好。</p>
<p>对所有非TLS的请求返回403 Forbidden，不要用重定向，这会允许一些不良的客户端行为，而又没有任何好处。依赖重定向的客户端会使流量翻倍，而让TLS毫无意义 —— 敏感数据已经在第一次请求时发送出来了。<br>在Accepts头中带上版本号</p>
<p>从一开始就为API分配版本。使用Accepts头来发送版本信息，可以使用自定义的内容类型，如：<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Accept: application/vnd.heroku+json; version=<span class="number">3</span></div></pre></td></tr></table></figure></p>
<p>不要提供默认版本，而由客户端显式指定它使用哪一个特定的版本。<br>通过Etags支持缓存</p>
<p>在所有的请求中带上 ETag 头 ， 用于识别特定版本的返回资源。用户可以在随后的请求中通过提供If-None-Match头的值来检查内容是否过期。<br>用Request-Ids追踪请求</p>
<p>在每个API相应中提供Request-Id头，带上一个唯一的UUID值。如果服务器和客户端都记录了这些值，在跟踪和调试请求时会派上大用场。<br>用Ranges来分页</p>
<p>对所有可能产生大量数据的响应进行分页。使用Content-Range 头来标记分页请求。可以参考这个例子，来了解请求和响应头、状态码、Limit、排序和翻页：Heroku Platform API on Ranges<br>请求<br>返回适当的状态码<br>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/26/来自HeroKu的HTTP API 设计指南(中文版)/">阅读全文</a>
        </ div>
        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/24/Python 中的进程、线程、协程、同步、异步和回调/">Python 中的进程、线程、协程、同步、异步和回调</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-24T07:21:50.000Z"><a href="/2014/12/24/Python 中的进程、线程、协程、同步、异步和回调/">2014-12-24</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/Python/" class="chip pink lighten-1">Python</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <p>进程和线程究竟是什么东西？传统网络服务模型是如何工作的？协程和线程的关系和区别有哪些？IO过程在什么时间发生？</p>
<p>在刚刚结束的 PyCon2014 上海站，来自七牛云存储的 Python 高级工程师许智翔带来了关于 Python 的分享《Python中的进程、线程、协程、同步、异步、回调》。</p>
<h2 id="一、上下文切换技术"><a href="#一、上下文切换技术" class="headerlink" title="一、上下文切换技术"></a>一、上下文切换技术</h2><p><strong>简述</strong></p>
<p>在进一步之前，让我们先回顾一下各种上下文切换技术。</p>
<p>不过首先说明一点术语。当我们说“上下文”的时候，指的是程序在执行中的一个状态。通常我们会用调用栈来表示这个状态——栈记载了每个调用层级执行到哪里，还有执行时的环境情况等所有有关的信息。</p>
<p>当我们说“上下文切换”的时候，表达的是一种从一个上下文切换到另一个上下文执行的技术。而“调度”指的是决定哪个上下文可以获得接下去的CPU时间的方法。</p>
<p><strong>进程</strong></p>
<p>进程是一种古老而典型的上下文系统，每个进程有独立的地址空间，资源句柄，他们互相之间不发生干扰。</p>
<p>每个进程在内核中会有一个数据结构进行描述，我们称其为进程描述符。这些描述符包含了系统管理进程所需的信息，并且放在一个叫做任务队列的队列里面。</p>
<p>很显然，当新建进程时，我们需要分配新的进程描述符，并且分配新的地址空间(和父地址空间的映射保持一致，但是两者同时进入COW状态)。这些过程需要一定的开销。</p>
<p><strong>进程状态</strong></p>
<p>忽略去linux内核复杂的状态转移表，我们实际上可以把进程状态归结为三个最主要的状态：就绪态，运行态，睡眠态。这就是任何一本系统书上都有的三态转换图。</p>
<p>就绪和执行可以互相转换，基本这就是调度的过程。而当执行态程序需要等待某些条件(最典型就是IO)时，就会陷入睡眠态。而条件达成后，一般会自动进入就绪。</p>
<p><strong>阻塞</strong></p>
<p>当进程需要在某个文件句柄上做IO，这个fd又没有数据给他的时候，就会发生阻塞。具体来说，就是记录XX进程阻塞在了XX fd上，然后将进程标记为睡眠态，并调度出去。当fd上有数据时(例如对端发送的数据到达)，就会唤醒阻塞在fd上的进程。进程会随后进入就绪队列，等待合适的时间被调度。</p>
<p>阻塞后的唤醒也是一个很有意思的话题。当多个上下文阻塞在一个fd上(虽然不多见，但是后面可以看到一个例子)，而且fd就绪时，应该唤醒多少个上下文呢？传统上应当唤醒所有上下文，因为如果仅唤醒一个，而这个上下文又不能消费所有数据时，就会使得其他上下文处于无谓的死锁中。</p>
<p>但是有个著名的例子——accept，也是使用读就绪来表示收到的。如果试图用多个线程来accept会发生什么？当有新连接时，所有上下文都会就绪，但是只有第一个可以实际获得fd，其他的被调度后又立刻阻塞。这就是惊群问题thundering herd problem。</p>
<p>现代linux内核已经解决了这个问题，方法惊人的简单——accept方法加锁。</p>
<p>(inet_connection_sock.c:inet_csk_wait_for_connect)</p>
<p><strong>线程</strong></p>
<p>线程是一种轻量进程，实际上在linux内核中，两者几乎没有差别，除了一点——线程并不产生新的地址空间和资源描述符表，而是复用父进程的。<br>但是无论如何，线程的调度和进程一样，必须陷入内核态。<br>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/24/Python 中的进程、线程、协程、同步、异步和回调/">阅读全文</a>
        </ div>
        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/24/Awesome Django App/">Awesome Django App</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-24T02:50:01.000Z"><a href="/2014/12/24/Awesome Django App/">2014-12-24</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/Django/" class="chip pink lighten-1">Django</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <h1 id="Awesome-Django"><a href="#Awesome-Django" class="headerlink" title="Awesome Django"></a>Awesome Django</h1><p>这篇文章收集的关于django app大多是很有参考意义的, 所以在此备份下, 以供以后参考.(原文在<a href="https://github.com/rosarior/awesome-django/blob/master/README.md">Github</a>)</p>
<ul>
<li><a href="#awesome-django">Awesome Django</a><ul>
<li><a href="#admin-interface">Admin Interface</a></li>
<li><a href="#asset-management">Asset Management</a></li>
<li><a href="#authentication">Authentication</a></li>
<li><a href="#authorization">Authorization</a></li>
<li><a href="#caching">Caching</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#debugging">Debugging</a></li>
<li><a href="#email">Email</a></li>
<li><a href="#fields">Fields</a></li>
<li><a href="#file-transfers">File Transfers</a></li>
<li><a href="#forms">Forms</a></li>
<li><a href="#migrations">Migrations</a></li>
<li><a href="#mobile-support">Mobile Support</a></li>
<li><a href="#model-extensions">Model Extensions</a></li>
<li><a href="#project-management">Project Management</a></li>
<li><a href="#restful-api">RESTful API</a></li>
<li><a href="#search">Search</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#storage">Storage</a></li>
<li><a href="#tagging">Tagging</a></li>
<li><a href="#task-queue">Task Queue</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#thumbnail">Thumbnail</a></li>
<li><a href="#cropping-image">Cropping Images</a></li>
<li><a href="#translations">Translations</a></li>
<li><a href="#web-frontend-integration">Web frontend integration</a></li>
<li><a href="#wiki-apps">Wiki apps</a></li>
<li><a href="#workflows">Workflows</a></li>
<li><a href="#other">Other</a></li>
</ul>
</li>
<li><a href="#projects">Projects</a><ul>
<li><a href="#cms">CMS</a></li>
<li><a href="#document-management">Document Management</a></li>
<li><a href="#e-commerce">e-Commerce</a></li>
<li><a href="#project-management">Project Management</a></li>
<li><a href="#other">Other</a></li>
</ul>
</li>
<li><a href="#resources">Resources</a><ul>
<li><a href="#books">Books</a></li>
<li><a href="#websites">Websites</a></li>
<li><a href="#conferences">Conferences</a></li>
<li><a href="#videos">Videos</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a></li>
</ul>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/24/Awesome Django App/">阅读全文</a>
        </ div>
        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/23/前端工作面试问题集锦/">前端工作面试问题集锦</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-23T05:49:20.000Z"><a href="/2014/12/23/前端工作面试问题集锦/">2014-12-23</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/前端/" class="chip pink lighten-1">前端</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <p>###前端工作面试问题</p>
<p><strong>备注:</strong> 这篇文章是从<a href="https://github.com">Github</a>上转载的, 原文请参考 <a href="https://github.com/h5bp/Front-end-Developer-Interview-Questions/blob/master/Translations/Chinese/README.md">这里</a>.</p>
<p><a href="http://rmurphey.com/">Rebecca Murphey</a> 的 <a href="http://rmurphey.com/blog/2012/04/12/a-baseline-for-front-end-developers/">Baseline For Front-End Developers</a> 是你在准备面试前应该阅读的绝佳资源。</p>
<p><strong>记住：</strong> 很多问题都是开放的，可以引发有趣的讨论。这比直接的答案更能体现此人的能力。</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ol>
<li><a href="#contributors">最初的贡献者</a></li>
<li><a href="#general">常见问题</a></li>
<li><a href="#html">HTML 相关问题</a></li>
<li><a href="#css">CSS 相关问题</a></li>
<li><a href="#js">JS 相关问题</a></li>
<li><a href="#jquery">jQuery 相关问题</a></li>
<li><a href="#jscode">代码相关的问题</a></li>
<li><a href="#fun">有趣的问题</a></li>
<li><a href="#references">其他参考资料</a></li>
<li><a href="#license">协议</a></li>
</ol>
<h2 id="最初贡献者"><a href="#最初贡献者" class="headerlink" title="最初贡献者"></a>最初贡献者</h2><p>这里大部分的面试题都摘抄自 <a href="http://paulirish.com">Paul Irish</a> (<a href="http://twitter.com/paul_irish">@paul_irish</a>) 在 <a href="http://oksoclap.com/">oksoclap</a> 创建的帖子，这份原帖的贡献者还有：</p>
<ul>
<li><a href="http://twitter.com/bentruyman">@bentruyman</a> - <a href="http://bentruyman.com">http://bentruyman.com</a></li>
<li><a href="http://twitter.com/cowboy">@cowboy</a> - <a href="http://benalman.com">http://benalman.com</a></li>
<li><a href="http://ajpiano">@ajpiano</a> - <a href="http://ajpiano.com">http://ajpiano.com</a></li>
<li><a href="http://twitter.com/slexaxton">@SlexAxton</a> - <a href="http://alexsexton.com">http://alexsexton.com</a></li>
<li><a href="http://twitter.com/boazsender">@boazsender</a> - <a href="http://boazsender.com">http://boazsender.com</a></li>
<li><a href="http://twitter.com/miketaylr">@miketaylr</a> - <a href="http://miketaylr.com">http://miketaylr.com</a></li>
<li><a href="http://twitter.com/vladikoff">@vladikoff</a> - <a href="http://vladfilippov.com">http://vladfilippov.com</a></li>
<li><a href="http://twitter.com/gf3">@gf3</a> - <a href="http://gf3.ca">http://gf3.ca</a></li>
<li><a href="http://twitter.com/jon_neal">@jon_neal</a> - <a href="http://twitter.com/jon_neal">http://twitter.com/jon_neal</a></li>
<li><a href="http://twitter.com/wookiehangover">@wookiehangover</a> - <a href="http://wookiehangover.com">http://wookiehangover.com</a></li>
<li><a href="http://twitter.com/darcy">@darcy_clarke</a> - <a href="http://darcyclarke.me">http://darcyclarke.me</a></li>
<li><a href="http://twitter.com/iansym">@iansym</a></li>
</ul>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/23/前端工作面试问题集锦/">阅读全文</a>
        </ div>
        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/23/16 个 Sublime Text 快捷键/">16 个 Sublime Text 快捷键</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-23T02:04:14.000Z"><a href="/2014/12/23/16 个 Sublime Text 快捷键/">2014-12-23</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/Sublime/" class="chip pink lighten-1">Sublime</a>
        
            <a href="/tags/编辑器/" class="chip pink lighten-1">编辑器</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <p><strong>选择</strong></p>
<ul>
<li>选择一个选中项的下一个匹配项</li>
<li>选择一个选中项的所有匹配项</li>
<li>选择与光标关联的开始和结束标签</li>
<li>选择容器内内容（新）</li>
<li>选择括号内的内容</li>
</ul>
<p><strong>移动行和文本</strong></p>
<ul>
<li>上移或下移行</li>
<li>复制行或选中项</li>
<li>增加和减少缩进</li>
</ul>
<p><strong>剪切和删除，复制和粘贴</strong></p>
<ul>
<li>剪切行或选中项</li>
<li>粘贴并保持缩进</li>
<li>用标签包裹行或选中项</li>
<li>移除未闭合的容器元素</li>
</ul>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/23/16 个 Sublime Text 快捷键/">阅读全文</a>
        </ div>
        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/21/Django class-based view 深入/">Django class-based view 深入</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-20T17:31:05.000Z"><a href="/2014/12/21/Django class-based view 深入/">2014-12-21</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/Django/" class="chip pink lighten-1">Django</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <p>上一篇我们粗略介绍了Django中的class-based view基础知识, 本篇我们继续来看关于class-based view的高级应用.</p>
<p>我们继续沿用上篇中的model:<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Publisher</span><span class="params">(models.Model)</span>:</span></div><div class="line">    name = models.CharField(max_length=<span class="number">30</span>)</div><div class="line">    address = models.CharField(max_length=<span class="number">50</span>)</div><div class="line">    city = models.CharField(max_length=<span class="number">60</span>)</div><div class="line">    state_province = models.CharField(max_length=<span class="number">30</span>)</div><div class="line">    country = models.CharField(max_length=<span class="number">50</span>)</div><div class="line">    website = models.URLField()</div><div class="line"></div><div class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">    	ordering = [<span class="string">"-name"</span>]</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></div><div class="line">    	<span class="keyword">return</span> self.name</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span><span class="params">(models.Model)</span>:</span></div><div class="line">    title = models.CharField(max_length=<span class="number">100</span>)</div><div class="line">    authors = models.ManyToManyField(<span class="string">'Author'</span>)</div><div class="line">    publisher = models.ForeignKey(Publisher)</div><div class="line">    publication_date = models.DateField()</div></pre></td></tr></table></figure></p>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/21/Django class-based view 深入/">阅读全文</a>
        </ div>
        
    </div>
</article>

    
        <article class="simple-article">
    <div class="card">
        <div class="card-content">
            <div class="article-title">
                
    
        <h1 class="indigo-link-context"><a href="/2014/12/21/Django class-based view 基础/">Django class-based view 基础</a></h1>
    


            </div>

            <time class="pink-link-context" datetime="2014-12-20T17:27:07.000Z"><a href="/2014/12/21/Django class-based view 基础/">2014-12-21</a></time>

            
    <div class="tags-row">
        
            <a href="/tags/Django/" class="chip pink lighten-1">Django</a>
        
    </div>



            
                <div class="entry pink-link-context">
                    <p>自从Django在1.3中新增了class-based view以来，还没有仔细研究它，开始感觉这个东西是否有点多余？因为Django已经有了Generic veiws了啊, 可是仔细看过class-based veiw之后, 这种想法打消了, 因为你完全可以用类方法实现你所有的视图, 而代码阅读起来却更容易!</p>
<p>如果要深入理解class-based view, 那首先就要了解什么是Mixin! Django把基本的http请求和响应抽象出来, 封装成各自的类, 在使用过程中只需把各个基类聚合到一起使用, 并按照自己的要求重写自己需要的方法就可以了, 那么就把这些基类叫Mixin吧. 在Django中比较基础的Mixin主要有几类:</p>
<ol>
<li>View(视图基础类)</li>
<li>SingleObjectMixin(单对象类)</li>
<li>MultipleObjectMixin(多对象类)</li>
<li>TemplateResponseMixin(模板响应类)</li>
<li>FormMixin(表单类)</li>
<li>YearMixin, MonthMixin, DayMixin, WeekMixin, DateMixin(几个基于时间关系的类)</li>
</ol>
<p>其他的所有内置class-based view都是把以上几个基础类组合, 重写方法以达到预期的结果. 比如DetailView这个类就组合了SingleObjectTemplateResponseMixin和BaseDetailView. 而在Django官方文档中有比较详细的ListView和DetailView的详细例子和说明, 本文这里就不在重复了, 本文的目的主要集中在官方文档中没有仔细说明的FormMixin上,下面来看例子, 我们就用官网上提供的models:<br><figure class="highlight python"><table><tr><td class="code"><pre><div class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Publisher</span><span class="params">(models.Model)</span>:</span></div><div class="line">    name = models.CharField(max_length=<span class="number">30</span>)</div><div class="line">    address = models.CharField(max_length=<span class="number">50</span>)</div><div class="line">    city = models.CharField(max_length=<span class="number">60</span>)</div><div class="line">    state_province = models.CharField(max_length=<span class="number">30</span>)</div><div class="line">    country = models.CharField(max_length=<span class="number">50</span>)</div><div class="line">    website = models.URLField()</div><div class="line"></div><div class="line">	<span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></div><div class="line">    	ordering = [<span class="string">"-name"</span>]</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__unicode__</span><span class="params">(self)</span>:</span></div><div class="line">    	<span class="keyword">return</span> self.name</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span><span class="params">(models.Model)</span>:</span></div><div class="line">    title = models.CharField(max_length=<span class="number">100</span>)</div><div class="line">    authors = models.ManyToManyField(<span class="string">'Author'</span>)</div><div class="line">    publisher = models.ForeignKey(Publisher)</div><div class="line">    publication_date = models.DateField()</div></pre></td></tr></table></figure></p>
                </div>
            
        </div>

        
        <div class="card-action pink-link-context">
            <a href="/2014/12/21/Django class-based view 基础/">阅读全文</a>
        </ div>
        
    </div>
</article>

    

    <ul class="pagination center-align">
    <li class="">
        <a href="/page/2/"><i class="fa fa-angle-left"></i></a>
    </li>
    
    
        <li class="waves-effect"><a href="/">1</a></li>
    
        <li class="waves-effect"><a href="/page/2">2</a></li>
    
        <li class="active pink"><a href="/page/3">3</a></li>
    
    
    <li class="disabled">
        <a href="/"><i class="fa fa-angle-right"></i></a>
    </li>
 </ul>

</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large pink">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect green" title="回到顶部"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse yellow darken-1"  data-activates="main-menu" title="menu"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer indigo darken-1">
    
    <div class="container">
        <div class="row">
            
            <div class="social-group col m4 s12">
                <h5 class="white-text">社交</h5>
                
                    <a class="social-link" href="http://weibo.com/amaozhao" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/amaozhao" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                <div class="site-visitors-container white-text">
                    <span>
                        <i class="fa fa-user"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
                    </span>
                    <span>&nbsp;|&nbsp;</span>
                    <span>
                        <i class="fa fa-eye"></i>
                        <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
                    </span>
                </div>
            </div>
            

            
            <div class="col m8 s12">
                <h5 class="white-text">友情链接</h5>
                
                    <a class="social-link" href="https://github.com/amaozhao" target="_blank">Github地址</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright pink-link-context">
        <div class="container">
            © 2016 example.com, All rights reserved.
            <p class="right" style="margin-top: 0;">本博客由 <a href="https://hexo.io">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/raytaylorlin/hexo-theme-raytaylorism">raytaylorism</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<script>
    (function($) {
        $(document).ready(function() {
            // 隐藏禁用javascript（针对微信内置浏览器）的提示
            $('.noscript').hide();

            // 图片缩放效果
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // 给图片加上点击放大效果（materialbox插件）
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // 优化表格的显示
            $('table').each(function() {
                var $table = $(this);
                // 除去多行代码的情况
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // 首页幻灯片
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // 针对gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // 文章目录
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();

            // 目录随屏幕滚动（防止目录过长越过footer）
            var $toc = $('.toc');
            var scrollTargetTop = 0;
            $(window).scroll(function() {
                var $activeLink = $toc.find('a.active.section');
                if ($(window).scrollTop() < 100) {
                    scrollTargetTop = 0;
                } else {
                    if ($activeLink[0]) {
                        scrollTargetTop = $activeLink.offset().top - $toc.offset().top;
                    }
                }
                $toc.css('top', '-' + scrollTargetTop + 'px');
            });

            // 修正文章目录的left-border颜色
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // 针对移动端做的优化：FAB按钮点击一下收回
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // 回到顶部
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // 重置读书页面的Tab标签页的颜色
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('pink lighten-2');

            
            // 添加new标签
            $('.menu-reading').append('<span class="new badge pink"></span>');
            

            // 搜索功能
            $('.modal-trigger').leanModal({
                // 打开搜索框时自动聚焦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // 初始化搜索与匹配函数
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("TeX-AMS-MML_HTMLorMML");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



</body>
</html>
